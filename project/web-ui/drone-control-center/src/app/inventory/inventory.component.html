<div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
  <h1>Inventory</h1>
</div>
<div *ngIf="simulator.loaded">
  <h2>Add products</h2>
  <form #productForm="ngForm" (ngSubmit)="onSubmit(productForm.form);">
    <div class="form-group">
      <label for="name">Name</label>
      <input type="text" class="form-control" id="name" name="name" #nameField="ngModel" ngModel required>
    </div>
    <div class="form-group">
      <label for="quantity">Quantity</label>
      <input id="quantity" type="number" min="0" class="form-control" name="quantity" #quantityField="ngModel" ngModel required>
    </div>
    <div class="form-group">
      <label for="x">X</label>
      <input id="x" type="number" min="0" class="form-control" name="x" #xField="ngModel" ngModel required>
      <label for="y">Y</label>
      <input id="y" type="number" min="0" class="form-control" name="y" #yField="ngModel" ngModel required>
    </div>
    <div class="form-group">
    </div>
    <div class="form-group">
      <label for="mapId">MapId</label>
      <input type="text" class="form-control" id="mapId" name="mapId" #mapField="ngModel" ngModel [(ngModel)]="simulator.maps[simulator.selectedMap]._id" required>
    </div>
    <div style="text-align:right; width:100%; padding:0;">
      <button class="btn btn-success" type="submit">Submit</button>
    </div>
  </form>
  <hr>
  <div>
    <h2>Products in {{simulator.maps[simulator.selectedMap].name}}</h2>
    <table class="table table-striped">
      <thead>
      <tr>
        <th scope="col">#</th>
        <th scope="col">Name</th>
        <th scope="col">Quantity</th>
        <th scope="col">X</th>
        <th scope="col">Y</th>
        <th scope="col"></th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let product of products; index as i">
        <th scope="row">{{ i + 1 }}</th>
        <td>{{product.name}}</td>
        <td>{{product.quantity}}</td>
        <td>{{product.position.x}}</td>
        <td>{{product.position.y}}</td>
        <td>
          <button type="button" class="btn btn-danger" (click)="deleteProduct(product._id)">X</button>
        </td>
      </tr>
      </tbody>
    </table>
  </div>
</div>
